====
filetype
====

|nimble-version| |nimble-install| |gh-actions|

Small and dependency free Nim package to infer file and MIME type checking the magic numbers signature.
filetype is heavily inspired by `h2non/filetype <https://github.com/h2non/filetype>`_.

.. contents:: Table of contents

Usage
=====

.. code-block:: nim

   import filetype

   echo matchFile("sample.png").mime.value
   # -> image/png

Installation
============

.. code-block:: shell

   $ nimble install -Y https://github.com/jiro4989/filetype

Supported format
================

=======   ======
Type      Format
=======   ======
Image     jpeg, png, bmp, jxr, psd, ico, dwg, gif
Archive   gz, zip, bz2, 7z, pdf, exe, rtf, nes, crx, ps, xz, sqlite, deb, ar, lz, rpm, elf
Audio     midi, ogg, flac, wav, amr, mp3, aac
Font      woff, woff2, ttf, otf
=======   ======

LICENSE
=======

MIT

Development
===========

Release workflow
^^^^^^^^^^^^^^^^

GitHub Action runs when you pushed new tags.

.. code-block:: shell

   $ git tag <new_tag>
   $ git push origin <new_tag>

   or

   $ git push origin --tags

GitHub Action creates a new release and upload your assets.

Release workflows:

|image-release-workflow|

Release note will be generated by `git-chglog <https://github.com/git-chglog/git-chglog>`_.
Config files are `.chglog <./.chglog>`_.

Details, see `release.yml <./.github/workflows/release.yml>`_.

.. |gh-actions| image:: https://github.com/jiro4989/filetype/workflows/test/badge.svg
   :target: https://github.com/jiro4989/filetype/actions
.. |nimble-version| image:: https://nimble.directory/ci/badges/filetype/version.svg
   :target: https://nimble.directory/ci/badges/filetype/nimdevel/output.html
.. |nimble-install| image:: https://nimble.directory/ci/badges/filetype/nimdevel/status.svg
   :target: https://nimble.directory/ci/badges/filetype/nimdevel/output.html

.. |image-release-workflow| image:: https://user-images.githubusercontent.com/13825004/87944618-9897fc00-cada-11ea-9401-74167f04b5c4.png
